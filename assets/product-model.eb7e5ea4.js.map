{"version":3,"file":"product-model.eb7e5ea4.js","sources":["../frontend/components/product-model.js"],"sourcesContent":["import DeferredMedia from './deferred-media';\n\nif (!customElements.get('product-model')) {\n  customElements.define('product-model', class ProductModel extends DeferredMedia {\n    constructor() {\n      super();\n    }\n\n    loadContent() {\n      super.loadContent();\n\n      Shopify.loadFeatures([\n        {\n          name: 'model-viewer-ui',\n          version: '1.0',\n          onLoad: this.setupModelViewerUI.bind(this),\n        },\n      ]);\n    }\n\n    setupModelViewerUI(errors) {\n      if (errors) return;\n\n      this.modelViewerUI = new Shopify.ModelViewerUI(this.querySelector('model-viewer'));\n    }\n  });\n}\n\nwindow.ProductModel = {\n  loadShopifyXR() {\n    Shopify.loadFeatures([\n      {\n        name: 'shopify-xr',\n        version: '1.0',\n        onLoad: this.setupShopifyXR.bind(this),\n      },\n    ]);\n  },\n\n  setupShopifyXR(errors) {\n    if (errors) return;\n\n    if (!window.ShopifyXR) {\n      document.addEventListener('shopify_xr_initialized', () =>\n        this.setupShopifyXR()\n      );\n      return;\n    }\n\n    document.querySelectorAll('[id^=\"ProductJSON-\"]').forEach((modelJSON) => {\n      window.ShopifyXR.addModels(JSON.parse(modelJSON.textContent));\n      modelJSON.remove();\n    });\n    window.ShopifyXR.setupXRElements();\n  },\n};\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  if (window.ProductModel) window.ProductModel.loadShopifyXR();\n});\n"],"names":[],"mappings":"6EAEA,AAAK,eAAe,IAAI,eAAe,GACrC,eAAe,OAAO,gBAAiB,aAA2B,EAAc,CAC9E,aAAc,CACZ,OACD,CAED,aAAc,CACZ,MAAM,YAAW,EAEjB,QAAQ,aAAa,CACnB,CACE,KAAM,kBACN,QAAS,MACT,OAAQ,KAAK,mBAAmB,KAAK,IAAI,CAC1C,CACT,CAAO,CACF,CAED,mBAAmB,EAAQ,CACzB,AAAI,GAEJ,MAAK,cAAgB,GAAI,SAAQ,cAAc,KAAK,cAAc,cAAc,CAAC,EAClF,CACL,CAAG,EAGH,OAAO,aAAe,CACpB,eAAgB,CACd,QAAQ,aAAa,CACnB,CACE,KAAM,aACN,QAAS,MACT,OAAQ,KAAK,eAAe,KAAK,IAAI,CACtC,CACP,CAAK,CACF,EAED,eAAe,EAAQ,CACrB,GAAI,GAEJ,IAAI,CAAC,OAAO,UAAW,CACrB,SAAS,iBAAiB,yBAA0B,IAClD,KAAK,eAAgB,CAC7B,EACM,MACD,CAED,SAAS,iBAAiB,sBAAsB,EAAE,QAAQ,AAAC,GAAc,CACvE,OAAO,UAAU,UAAU,KAAK,MAAM,EAAU,WAAW,CAAC,EAC5D,EAAU,OAAM,CACtB,CAAK,EACD,OAAO,UAAU,kBAClB,CACH,EAEA,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,AAAI,OAAO,cAAc,OAAO,aAAa,cAAa,CAC5D,CAAC"}