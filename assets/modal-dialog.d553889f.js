import{p as o}from"./utils.d62a6586.js";import{t as s,r as i}from"./a11y.88ed79d0.js";class d extends HTMLElement{constructor(){super(),this.querySelector('[id^="ModalClose-"]').addEventListener("click",this.hide.bind(this,!1)),this.addEventListener("keyup",e=>{e.code.toUpperCase()==="ESCAPE"&&this.hide()}),this.classList.contains("media-modal")?this.addEventListener("pointerup",e=>{e.pointerType==="mouse"&&!e.target.closest("deferred-media, product-model")&&this.hide()}):this.addEventListener("click",e=>{e.target===this&&this.hide()})}connectedCallback(){this.moved||(this.moved=!0,document.body.appendChild(this))}show(e){this.openedBy=e;const t=this.querySelector(".template-popup");document.body.classList.add("overflow-hidden"),this.setAttribute("open",""),t&&t.loadContent(),s(this,this.querySelector('[role="dialog"]')),o()}hide(){document.body.classList.remove("overflow-hidden"),document.body.dispatchEvent(new CustomEvent("modalClosed")),this.removeAttribute("open"),i(this.openedBy),o()}}customElements.define("modal-dialog",d);export{d as M};
//# sourceMappingURL=modal-dialog.d553889f.js.map
