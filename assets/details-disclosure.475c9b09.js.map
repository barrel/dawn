{"version":3,"file":"details-disclosure.475c9b09.js","sources":["../frontend/components/details-disclosure.js"],"sourcesContent":["export default class DetailsDisclosure extends HTMLElement {\n  constructor() {\n    super();\n    this.mainDetailsToggle = this.querySelector('details');\n    this.content = this.mainDetailsToggle.querySelector('summary').nextElementSibling;\n\n    this.mainDetailsToggle.addEventListener('focusout', this.onFocusOut.bind(this));\n    this.mainDetailsToggle.addEventListener('toggle', this.onToggle.bind(this));\n  }\n\n  onFocusOut() {\n    setTimeout(() => {\n      if (!this.contains(document.activeElement)) this.close();\n    })\n  }\n\n  onToggle() {\n    if (!this.animations) this.animations = this.content.getAnimations();\n\n    if (this.mainDetailsToggle.hasAttribute('open')) {\n      this.animations.forEach(animation => animation.play());\n    } else {\n      this.animations.forEach(animation => animation.cancel());\n    }\n  }\n\n  close() {\n    this.mainDetailsToggle.removeAttribute('open');\n    this.mainDetailsToggle.querySelector('summary').setAttribute('aria-expanded', false);\n  }\n}\n\ncustomElements.define('details-disclosure', DetailsDisclosure);\n"],"names":[],"mappings":"AAAe,MAAM,SAA0B,YAAY,CACzD,aAAc,CACZ,QACA,KAAK,kBAAoB,KAAK,cAAc,SAAS,EACrD,KAAK,QAAU,KAAK,kBAAkB,cAAc,SAAS,EAAE,mBAE/D,KAAK,kBAAkB,iBAAiB,WAAY,KAAK,WAAW,KAAK,IAAI,CAAC,EAC9E,KAAK,kBAAkB,iBAAiB,SAAU,KAAK,SAAS,KAAK,IAAI,CAAC,CAC3E,CAED,YAAa,CACX,WAAW,IAAM,CACf,AAAK,KAAK,SAAS,SAAS,aAAa,GAAG,KAAK,OACvD,CAAK,CACF,CAED,UAAW,CACT,AAAK,KAAK,YAAY,MAAK,WAAa,KAAK,QAAQ,iBAErD,AAAI,KAAK,kBAAkB,aAAa,MAAM,EAC5C,KAAK,WAAW,QAAQ,GAAa,EAAU,KAAI,CAAE,EAErD,KAAK,WAAW,QAAQ,GAAa,EAAU,OAAM,CAAE,CAE1D,CAED,OAAQ,CACN,KAAK,kBAAkB,gBAAgB,MAAM,EAC7C,KAAK,kBAAkB,cAAc,SAAS,EAAE,aAAa,gBAAiB,EAAK,CACpF,CACH,CAEA,eAAe,OAAO,qBAAsB,CAAiB"}