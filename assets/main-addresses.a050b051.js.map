{"version":3,"file":"main-addresses.a050b051.js","sources":["../frontend/entrypoints/main-addresses.js"],"sourcesContent":["const selectors = {\n  customerAddresses: '[data-customer-addresses]',\n  addressCountrySelect: '[data-address-country-select]',\n  addressContainer: '[data-address]',\n  toggleAddressButton: 'button[aria-expanded]',\n  cancelAddressButton: 'button[type=\"reset\"]',\n  deleteAddressButton: 'button[data-confirm-message]'\n};\n\nconst attributes = {\n  expanded: 'aria-expanded',\n  confirmMessage: 'data-confirm-message'\n};\n\nclass CustomerAddresses {\n  constructor() {\n    this.elements = this._getElements();\n    if (Object.keys(this.elements).length === 0) return;\n    this._setupCountries();\n    this._setupEventListeners();\n  }\n\n  _getElements() {\n    const container = document.querySelector(selectors.customerAddresses);\n    return container ? {\n      container,\n      addressContainer: container.querySelector(selectors.addressContainer),\n      toggleButtons: document.querySelectorAll(selectors.toggleAddressButton),\n      cancelButtons: container.querySelectorAll(selectors.cancelAddressButton),\n      deleteButtons: container.querySelectorAll(selectors.deleteAddressButton),\n      countrySelects: container.querySelectorAll(selectors.addressCountrySelect)\n    } : {};\n  }\n\n  _setupCountries() {\n    if (Shopify && Shopify.CountryProvinceSelector) {\n      // eslint-disable-next-line no-new\n      new Shopify.CountryProvinceSelector('AddressCountryNew', 'AddressProvinceNew', {\n        hideElement: 'AddressProvinceContainerNew'\n      });\n      this.elements.countrySelects.forEach((select) => {\n        const formId = select.dataset.formId;\n        // eslint-disable-next-line no-new\n        new Shopify.CountryProvinceSelector(`AddressCountry_${formId}`, `AddressProvince_${formId}`, {\n          hideElement: `AddressProvinceContainer_${formId}`\n        });\n      });\n    }\n  }\n\n  _setupEventListeners() {\n    this.elements.toggleButtons.forEach((element) => {\n      element.addEventListener('click', this._handleAddEditButtonClick);\n    });\n    this.elements.cancelButtons.forEach((element) => {\n      element.addEventListener('click', this._handleCancelButtonClick);\n    });\n    this.elements.deleteButtons.forEach((element) => {\n      element.addEventListener('click', this._handleDeleteButtonClick);\n    });\n  }\n\n  _toggleExpanded(target) {\n    target.setAttribute(\n      attributes.expanded,\n      (target.getAttribute(attributes.expanded) === 'false').toString()\n    );\n  }\n\n  _handleAddEditButtonClick = ({ currentTarget }) => {\n    this._toggleExpanded(currentTarget);\n  }\n\n  _handleCancelButtonClick = ({ currentTarget }) => {\n    this._toggleExpanded(\n      currentTarget\n        .closest(selectors.addressContainer)\n        .querySelector(`[${attributes.expanded}]`)\n    )\n  }\n\n  _handleDeleteButtonClick = ({ currentTarget }) => {\n    // eslint-disable-next-line no-alert\n    if (confirm(currentTarget.getAttribute(attributes.confirmMessage))) {\n      Shopify.postLink(currentTarget.dataset.target, {\n        parameters: { _method: 'delete' },\n      });\n    }\n  }\n}\n\nwindow.onload = () => {\n  new CustomerAddresses();\n}\n"],"names":[],"mappings":"wKAAA,KAAM,GAAY,CAChB,kBAAmB,4BACnB,qBAAsB,gCACtB,iBAAkB,iBAClB,oBAAqB,wBACrB,oBAAqB,uBACrB,oBAAqB,8BACvB,EAEM,EAAa,CACjB,SAAU,gBACV,eAAgB,sBAClB,EAEA,MAAM,CAAkB,CACtB,aAAc,CAsDd,mCAA4B,CAAC,CAAE,mBAAoB,CACjD,KAAK,gBAAgB,CAAa,CACnC,GAED,kCAA2B,CAAC,CAAE,mBAAoB,CAChD,KAAK,gBACH,EACG,QAAQ,EAAU,gBAAgB,EAClC,cAAc,IAAI,EAAW,WAAW,CAC5C,CACF,GAED,kCAA2B,CAAC,CAAE,mBAAoB,CAEhD,AAAI,QAAQ,EAAc,aAAa,EAAW,cAAc,CAAC,GAC/D,QAAQ,SAAS,EAAc,QAAQ,OAAQ,CAC7C,WAAY,CAAE,QAAS,QAAU,CACzC,CAAO,CAEJ,GAvEC,AADA,KAAK,SAAW,KAAK,eACjB,OAAO,KAAK,KAAK,QAAQ,EAAE,SAAW,GAC1C,MAAK,gBAAe,EACpB,KAAK,qBAAoB,EAC1B,CAED,cAAe,CACb,KAAM,GAAY,SAAS,cAAc,EAAU,iBAAiB,EACpE,MAAO,GAAY,CACjB,YACA,iBAAkB,EAAU,cAAc,EAAU,gBAAgB,EACpE,cAAe,SAAS,iBAAiB,EAAU,mBAAmB,EACtE,cAAe,EAAU,iBAAiB,EAAU,mBAAmB,EACvE,cAAe,EAAU,iBAAiB,EAAU,mBAAmB,EACvE,eAAgB,EAAU,iBAAiB,EAAU,oBAAoB,CAC1E,EAAG,EACL,CAED,iBAAkB,CAChB,AAAI,SAAW,QAAQ,yBAErB,IAAI,SAAQ,wBAAwB,oBAAqB,qBAAsB,CAC7E,YAAa,6BACrB,CAAO,EACD,KAAK,SAAS,eAAe,QAAQ,AAAC,GAAW,CAC/C,KAAM,GAAS,EAAO,QAAQ,OAE9B,GAAI,SAAQ,wBAAwB,kBAAkB,IAAU,mBAAmB,IAAU,CAC3F,YAAa,4BAA4B,GACnD,CAAS,CACT,CAAO,EAEJ,CAED,sBAAuB,CACrB,KAAK,SAAS,cAAc,QAAQ,AAAC,GAAY,CAC/C,EAAQ,iBAAiB,QAAS,KAAK,yBAAyB,CACtE,CAAK,EACD,KAAK,SAAS,cAAc,QAAQ,AAAC,GAAY,CAC/C,EAAQ,iBAAiB,QAAS,KAAK,wBAAwB,CACrE,CAAK,EACD,KAAK,SAAS,cAAc,QAAQ,AAAC,GAAY,CAC/C,EAAQ,iBAAiB,QAAS,KAAK,wBAAwB,CACrE,CAAK,CACF,CAED,gBAAgB,EAAQ,CACtB,EAAO,aACL,EAAW,SACV,GAAO,aAAa,EAAW,QAAQ,IAAM,SAAS,SAAU,CACvE,CACG,CAsBH,CAEA,OAAO,OAAS,IAAM,CACpB,GAAI,EACN"}