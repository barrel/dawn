{"version":3,"file":"deferred-media.1611af0f.js","sources":["../frontend/components/deferred-media.js"],"sourcesContent":["import { pauseAllMedia } from '@/lib/utils';\n\nexport default class DeferredMedia extends HTMLElement {\n  constructor() {\n    super();\n    const poster = this.querySelector('[id^=\"Deferred-Poster-\"]');\n    if (!poster) return;\n    poster.addEventListener('click', this.loadContent.bind(this));\n  }\n\n  loadContent(focus = true) {\n    pauseAllMedia();\n    if (!this.getAttribute('loaded')) {\n      const content = document.createElement('div');\n      content.appendChild(this.querySelector('template').content.firstElementChild.cloneNode(true));\n\n      this.setAttribute('loaded', true);\n      const deferredElement = this.appendChild(content.querySelector('video, model-viewer, iframe'));\n      if (focus) deferredElement.focus();\n    }\n  }\n}\n\ncustomElements.define('deferred-media', DeferredMedia);\n"],"names":[],"mappings":"wCAEe,MAAM,SAAsB,YAAY,CACrD,aAAc,CACZ,QACA,KAAM,GAAS,KAAK,cAAc,0BAA0B,EAC5D,AAAI,CAAC,GACL,EAAO,iBAAiB,QAAS,KAAK,YAAY,KAAK,IAAI,CAAC,CAC7D,CAED,YAAY,EAAQ,GAAM,CAExB,GADA,IACI,CAAC,KAAK,aAAa,QAAQ,EAAG,CAChC,KAAM,GAAU,SAAS,cAAc,KAAK,EAC5C,EAAQ,YAAY,KAAK,cAAc,UAAU,EAAE,QAAQ,kBAAkB,UAAU,EAAI,CAAC,EAE5F,KAAK,aAAa,SAAU,EAAI,EAChC,KAAM,GAAkB,KAAK,YAAY,EAAQ,cAAc,6BAA6B,CAAC,EAC7F,AAAI,GAAO,EAAgB,OAC5B,CACF,CACH,CAEA,eAAe,OAAO,iBAAkB,CAAa"}