function u(e){return Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))}document.querySelectorAll('[id^="Details-"] summary').forEach(e=>{e.setAttribute("role","button"),e.setAttribute("aria-expanded",e.parentNode.hasAttribute("open")),e.nextElementSibling.getAttribute("id")&&e.setAttribute("aria-controls",e.nextElementSibling.id),e.addEventListener("click",t=>{t.currentTarget.setAttribute("aria-expanded",!t.currentTarget.closest("details").hasAttribute("open"))}),!e.closest("header-drawer")&&e.parentElement.addEventListener("keyup",c)});const r={};function l(e,t=e){var o=u(e),s=o[0],i=o[o.length-1];d(),r.focusin=n=>{n.target!==e&&n.target!==i&&n.target!==s||document.addEventListener("keydown",r.keydown)},r.focusout=function(){document.removeEventListener("keydown",r.keydown)},r.keydown=function(n){n.code.toUpperCase()==="TAB"&&(n.target===i&&!n.shiftKey&&(n.preventDefault(),s.focus()),(n.target===e||n.target===s)&&n.shiftKey&&(n.preventDefault(),i.focus()))},document.addEventListener("focusout",r.focusout),document.addEventListener("focusin",r.focusin),t.focus()}try{document.querySelector(":focus-visible")}catch{a()}function a(){const e=["ARROWUP","ARROWDOWN","ARROWLEFT","ARROWRIGHT","TAB","ENTER","SPACE","ESCAPE","HOME","END","PAGEUP","PAGEDOWN"];let t=null,o=null;window.addEventListener("keydown",s=>{e.includes(s.code.toUpperCase())&&(o=!1)}),window.addEventListener("mousedown",s=>{o=!0}),window.addEventListener("focus",()=>{t&&t.classList.remove("focused"),!o&&(t=document.activeElement,t.classList.add("focused"))},!0)}function d(e=null){document.removeEventListener("focusin",r.focusin),document.removeEventListener("focusout",r.focusout),document.removeEventListener("keydown",r.keydown),e&&e.focus()}function c(e){if(e.code.toUpperCase()!=="ESCAPE")return;const t=e.target.closest("details[open]");if(!t)return;const o=t.querySelector("summary");t.removeAttribute("open"),o.setAttribute("aria-expanded",!1),o.focus()}export{c as o,d as r,l as t};
//# sourceMappingURL=a11y.88ed79d0.js.map
